{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{BrowserRouter as Router,Route,Switch}from\"react-router-dom\";import{useLocation,useNavigate}from\"react-router-dom\";import{forgotuser,gembok}from\"../assets\";import axios from'axios';import image21 from\"../assets/image21.png\";import Swal from\"sweetalert2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ForgotPasswordUserPage=()=>{const location=useLocation();const navigate=useNavigate();const data=location.state;const[user,setUser]=useState(null);const[password,setPassword]=useState('');const[confirmpassword,setConfirmPassword]=useState('');useEffect(()=>{setUser(localStorage.getItem('nrp'));},[]);const handleSubmit=async e=>{e.preventDefault();const resetPassword={nrp:user,password:confirmpassword};try{const response=await axios.post('http://103.127.135.153:5000/auth/reset-password',resetPassword);console.log(response.status);if(response.status===200){Swal.fire({title:'Behasil!',text:response.data.message,icon:\"success\"});navigate('/',{state:user});}// else if(response.status === 403){\n//   Swal.fire({\n//     title: 'Oops!',\n//     text: response.data.message,\n//     icon: \"warning\",\n//   })\n//   navigate('/')\n// } \nelse{Swal.fire({title:'Failed!',text:\"Gagal update password!\",icon:\"error\"});}}catch(error){Swal.fire({title:'Oops!',text:'Tidak bisa update password 2 kali!',icon:\"warning\"});navigate('/');}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen relative\",style:{backgroundImage:\"url(\".concat(image21,\")\"),backgroundSize:\"cover\",backgroundPosition:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-8 max-w-4xl max-h-96 z-10\",children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex justify-center items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:forgotuser,alt:\"Gambar Forgot User\",className:\"mr-5\",style:{width:\"300px\",height:\"300px\"}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-2\",children:\"Atur Ulang Kata Sandi\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"text-xs mb-1 text-gray-500\",children:\"Masukkan kata sandi baru untuk hello@gmail.com\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-gray-900/10 pb-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sm:col-span-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group flex border border-1 rounded-md w-full\",children:[/*#__PURE__*/_jsx(\"img\",{src:gembok,alt:\"password\",className:\"input-icon m-2 h-5 w-5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Kata sandi\",value:password,onChange:e=>setPassword(e.target.value),className:\"flex-grow py-1.5 px-3 text-gray-700 placeholder-gray-400 placeholder-xs focus:ring-inset focus:ring-indigo-600 sm:text-sm border-0\",required:true})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sm:col-span-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group flex border border-1 rounded-md w-full\",children:[/*#__PURE__*/_jsx(\"img\",{src:gembok,alt:\"password\",className:\"input-icon m-2 h-5 w-5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmpassword\",name:\"confirmpassword\",placeholder:\"konfirmasi Sandi\",value:confirmpassword,onChange:e=>setConfirmPassword(e.target.value),className:\"flex-grow py-1.5 px-3 text-gray-700 placeholder-gray-400 placeholder-xs focus:ring-inset focus:ring-indigo-600 sm:text-sm border-0\",required:true})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-2\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",style:{marginTop:\"-10px\"},children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"text-white font-bold py-2 px-2 rounded mb-1\",style:{backgroundColor:\"#F77D00\"},children:\"Atur Ulang Kata Sandi\"})})]})]})]})]})});};export default ForgotPasswordUserPage;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Route","Switch","useLocation","useNavigate","forgotuser","gembok","axios","image21","Swal","jsx","_jsx","jsxs","_jsxs","ForgotPasswordUserPage","location","navigate","data","state","user","setUser","password","setPassword","confirmpassword","setConfirmPassword","localStorage","getItem","handleSubmit","e","preventDefault","resetPassword","nrp","response","post","console","log","status","fire","title","text","message","icon","error","className","style","backgroundImage","concat","backgroundSize","backgroundPosition","children","src","alt","width","height","onSubmit","type","id","name","placeholder","value","onChange","target","required","marginTop","backgroundColor"],"sources":["/var/www/html/new/agile-master/web_project/goship/src/pages/Forgot_Password_User.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { forgotuser, gembok } from \"../assets\";\nimport axios from 'axios';\nimport image21 from \"../assets/image21.png\";\nimport Swal from \"sweetalert2\"\n\nconst ForgotPasswordUserPage = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const data = location.state;\n  const [user, setUser] = useState(null);\n  const [password, setPassword] = useState('');\n  const [confirmpassword, setConfirmPassword] = useState('');\n\n  \n\n  useEffect(() => {\n    \n    setUser(localStorage.getItem('nrp'));\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const resetPassword = {\n      nrp: user,\n      password: confirmpassword\n    }\n    try {\n      const response = await axios.post('http://103.127.135.153:5000/auth/reset-password', resetPassword)\n      console.log(response.status)\n      if (response.status === 200) {\n        Swal.fire({\n          title: 'Behasil!',\n          text: response.data.message,\n          icon: \"success\",\n\n        })\n        navigate('/', {state: user})\n      }\n      // else if(response.status === 403){\n      //   Swal.fire({\n      //     title: 'Oops!',\n      //     text: response.data.message,\n      //     icon: \"warning\",\n      //   })\n      //   navigate('/')\n      // } \n      else {\n        Swal.fire({\n          title: 'Failed!',\n          text: \"Gagal update password!\",\n          icon: \"error\",\n        })\n      }\n    } catch (error) {\n      Swal.fire({\n        title: 'Oops!',\n        text: 'Tidak bisa update password 2 kali!',\n        icon: \"warning\",\n      })\n      navigate('/')\n    }\n  };\n\n  return (\n    <div\n      className=\"flex justify-center items-center h-screen relative\"\n      style={{\n        backgroundImage: `url(${image21})`,\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\",\n      }}\n    >\n      <div className=\"bg-white rounded-lg shadow-md p-8 max-w-4xl max-h-96 z-10\">\n        {\" \"}\n        {/* Changed max-w-3xl to max-w-4xl and added max-h-96 */}\n        <div className=\"mt-2 flex justify-center items-center\">\n          <img\n            src={forgotuser}\n            alt=\"Gambar Forgot User\"\n            className=\"mr-5\"\n            style={{ width: \"300px\", height: \"300px\" }}\n          />\n          <div>\n            <div>\n              <h2 className=\"text-2xl font-bold mb-2\">Atur Ulang Kata Sandi</h2>\n              <h6 className=\"text-xs mb-1 text-gray-500\">\n                Masukkan kata sandi baru untuk hello@gmail.com\n              </h6>\n            </div>\n            <form onSubmit={handleSubmit}>\n              <div className=\"border-b border-gray-900/10 pb-12\">\n                <div className=\"mt-6 grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-6\">\n                  <div className=\"sm:col-span-6\">\n                    <div className=\"input-group flex border border-1 rounded-md w-full\">\n                      <img\n                        src={gembok}\n                        alt=\"password\"\n                        className=\"input-icon m-2 h-5 w-5\"\n                      />\n                      <input\n                        type=\"password\"\n                        id=\"password\"\n                        name=\"password\"\n                        placeholder=\"Kata sandi\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        className=\"flex-grow py-1.5 px-3 text-gray-700 placeholder-gray-400 placeholder-xs focus:ring-inset focus:ring-indigo-600 sm:text-sm border-0\"\n                        required\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"mt-6 grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-6\">\n                  <div className=\"sm:col-span-6\">\n                    <div className=\"input-group flex border border-1 rounded-md w-full\">\n                      <img\n                        src={gembok}\n                        alt=\"password\"\n                        className=\"input-icon m-2 h-5 w-5\"\n                      />\n                      <input\n                        type=\"password\"\n                        id=\"confirmpassword\"\n                        name=\"confirmpassword\"\n                        placeholder=\"konfirmasi Sandi\"\n                        value={confirmpassword}\n                        onChange={(e) => setConfirmPassword(e.target.value)}\n                        className=\"flex-grow py-1.5 px-3 text-gray-700 placeholder-gray-400 placeholder-xs focus:ring-inset focus:ring-indigo-600 sm:text-sm border-0\"\n                        required\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end mt-2\"></div>\n              </div>\n              <div className=\"flex flex-col\" style={{ marginTop: \"-10px\" }}>\n                <button\n                  type=\"submit\"\n                  className=\"text-white font-bold py-2 px-2 rounded mb-1\"\n                  style={{ backgroundColor: \"#F77D00\" }}\n                >\n                  Atur Ulang Kata Sandi\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPasswordUserPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}