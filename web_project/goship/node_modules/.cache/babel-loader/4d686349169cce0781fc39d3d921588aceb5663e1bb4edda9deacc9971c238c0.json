{"ast":null,"code":"import React from'react';import CardForm from'./form_post';import{useLocation,useNavigate}from\"react-router-dom\";import Cookies from'js-cookie';import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ButtonExperience=()=>{const navigate=useNavigate();let refreshToken=Cookies.get('refresh_token');const[user,setUser]=useState(null);const[loginState,setLoginState]=useState(false);const[showForm,setShowForm]=useState(false);useEffect(()=>{// setUser(data);\nif(!refreshToken&&localStorage.length!=0){localStorage.clear();}else if(refreshToken){let name=localStorage.getItem('nama');setUser(name);}},[user]);useEffect(()=>{if(user){setLoginState(true);}else{setLoginState(false);}},[user]);const handleClick=()=>{if(user!==null){setShowForm(true);}else{navigate('/login');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"xl:max-w-[1280px] w-full h-full\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"bg-orange text-white hover:bg-white font-bold py-2 px-4 border-b-2 border-white hover:text-black rounded-lg \",onClick:handleClick,children:\"Add Experience\"}),showForm&&/*#__PURE__*/_jsx(CardForm,{onClose:()=>setShowForm(false)}),\" \"]});};export default ButtonExperience;","map":{"version":3,"names":["React","CardForm","useLocation","useNavigate","Cookies","useEffect","useState","jsx","_jsx","jsxs","_jsxs","ButtonExperience","navigate","refreshToken","get","user","setUser","loginState","setLoginState","showForm","setShowForm","localStorage","length","clear","name","getItem","handleClick","className","children","class","onClick","onClose"],"sources":["/var/www/html/new/agile-master/web_project/goship/src/components/button_experience.jsx"],"sourcesContent":["import React from 'react';\nimport CardForm from './form_post';\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport Cookies from 'js-cookie';\nimport { useEffect, useState } from \"react\";\n\nconst ButtonExperience = () => {\n  const navigate = useNavigate();\n  let refreshToken = Cookies.get('refresh_token');\n  const [user, setUser] = useState(null)\n  const [loginState, setLoginState] = useState(false)\n  const [showForm, setShowForm] = useState(false);\n  \n  useEffect(() => {\n    // setUser(data);\n    if (!refreshToken && localStorage.length != 0) {\n      localStorage.clear()\n    } else if (refreshToken) {\n      let name = localStorage.getItem('nama')\n      setUser(name)\n    }\n  }, [user]);\n  \n  useEffect(() => {\n    if (user) {\n      setLoginState(true);\n    } else {\n      setLoginState(false);\n    }\n  }, [user]);\n  \n  const handleClick = () => {\n    if (user !== null) {\n      setShowForm(true);\n    } else {\n      navigate('/login')\n    }\n\n  };\n\n  return (\n    <div className='xl:max-w-[1280px] w-full h-full'>\n      <button class=\"bg-orange text-white hover:bg-white font-bold py-2 px-4 border-b-2 border-white hover:text-black rounded-lg \"\n        onClick={handleClick}>\n        Add Experience\n      </button>\n      {showForm && <CardForm onClose={() => setShowForm(false)} />} {/* Conditionally render the form */}\n    </div>\n  );\n};\n\nexport default ButtonExperience;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,QAAQ,KAAM,aAAa,CAClC,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,GAAI,CAAAU,YAAY,CAAGT,OAAO,CAACU,GAAG,CAAC,eAAe,CAAC,CAC/C,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACW,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAE/CD,SAAS,CAAC,IAAM,CACd;AACA,GAAI,CAACQ,YAAY,EAAIQ,YAAY,CAACC,MAAM,EAAI,CAAC,CAAE,CAC7CD,YAAY,CAACE,KAAK,CAAC,CAAC,CACtB,CAAC,IAAM,IAAIV,YAAY,CAAE,CACvB,GAAI,CAAAW,IAAI,CAAGH,YAAY,CAACI,OAAO,CAAC,MAAM,CAAC,CACvCT,OAAO,CAACQ,IAAI,CAAC,CACf,CACF,CAAC,CAAE,CAACT,IAAI,CAAC,CAAC,CAEVV,SAAS,CAAC,IAAM,CACd,GAAIU,IAAI,CAAE,CACRG,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,IAAM,CACLA,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAAE,CAACH,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAW,WAAW,CAAGA,CAAA,GAAM,CACxB,GAAIX,IAAI,GAAK,IAAI,CAAE,CACjBK,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,IAAM,CACLR,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAEF,CAAC,CAED,mBACEF,KAAA,QAAKiB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9CpB,IAAA,WAAQqB,KAAK,CAAC,8GAA8G,CAC1HC,OAAO,CAAEJ,WAAY,CAAAE,QAAA,CAAC,gBAExB,CAAQ,CAAC,CACRT,QAAQ,eAAIX,IAAA,CAACP,QAAQ,EAAC8B,OAAO,CAAEA,CAAA,GAAMX,WAAW,CAAC,KAAK,CAAE,CAAE,CAAC,CAAC,GAAC,EAC3D,CAAC,CAEV,CAAC,CAED,cAAe,CAAAT,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}